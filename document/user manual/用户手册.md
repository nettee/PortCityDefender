# 港城卫士用户手册

# 1.引言

## 1.1编写目的

本说明书为应用软件“港城卫士“的用户手册，详细的阐述了用户如何安装本应用，以及对于不同的用户类型，如何使用本系统提供的各种功能。
本说明书的预期读者包括：系统管理员，军分区普通人员

## 1.2背景

* 软件系统名称：港城卫士
* 任务提出者：软件工程综合实验任务组
* 开发者：三角铁小组（成员：刘毅、张晨曦、李楠）
* 用户：某市军分区各级领导及民兵

## 1.3定义

暂无

## 1.4参考资料

1.  《GB8567——88  用户手册》
2.  《港城卫士软件需求规格说明书》
3.  《港城卫士设计说明书》
4.  《港城卫士测试报告》

# 2.用途

## 2.1功能

### 普通用户

* 用户可以通过安卓平台或者iOS平台进行登录、注销、修改密码。（无注册功能）
* 情报动态：用户可以发布含有图片的情报信息，查看情报信息列表，回复情报信息。如果是用户自己发布的情报，还可以将其删除。
* 指挥控制：用户可以选择任意数量的直接下属（下一级用户）进行命令发送。用户可以查看自己收到的命令。
* 文档查看：用户可以查看后台管理员维护的文档列表。
* 通讯录：用户可以按区域查看所有4、5、6级用户的通讯录，也可以通过用户姓名进行搜索。

### 管理员

* 通过网页端登录后台网站
* 用户管理：查看用户列表，查看、编辑、删除和新增用户
* 情报管理：查看、删除情报
* 文档管理：按类别新建、查看、编辑、删除所有文档
* 区域管理：查看、添加或删除区域

##2.2性能

### 2.2.1时间特性

* 软件并发用户数可大于50人，响应时间小于1秒，应用延迟时间小于2秒；

### 2.2.3灵活性

* 各模块显示列表内容的条数可以由管理员自行定义。系统需要进行分级权限管理，每个用户对所操作的内容可进行权限控制；
* 软件支持通过二次开发动态增加功能模块，改善软件现有功能；
* 软件功能设计合理，易于操作使用，用户可快速掌握软件操作；

## 2.3安全保密

* 本软件每个向服务器发送的请求均要求认证，确保数据的安全性，不会被窃取。
× 数据库信息被妥善储存
× 每个账户仅能进行权限范围内的操作。

# 3运行环境

本系统的运行环境包括两个部分：手机客户端和服务器。

#### 手机客户端

手机客户端可为iOS环境或Android环境。对于iOS环境，要求RAM在512MB及以上，系统版本在iOS7.0及以上；对于Android环境，要求RAM在1GB及以上，系统版本在Android 4.0及以上。

#### 服务器

要求操作系统为Linux（CentOS或Debian），CPU主频2.5GHz，内容1GB，带宽1M。安装有Nodejs（4.2版本以上），Mongodb。


# 4使用过程


## 4.1安装与初始化

### 网页端

供管理员使用，登录的入口为http://121.40.97.40:3000/login，用户名admin，密码admin。

### 安卓平台

请直接安装我们提供的apk

### iOS平台

请直接通过itunes安装我们提供的ipa

## 4.2功能

### 4.2.1用户登录

#### 4.2.1.1功能描述

用户可以输入用户名和密码进行登录，用户名或者密码为空，则不能登录，用户名或密码错误则登录失败，用户名和密码正确，登录成功。

#### 4.2.1.2操作说明

输入用户名和密码

![图1](https://raw.githubusercontent.com/nettee/PortCityDefender/dev/document/user%20manual/images/login1.png)

如果用户名或密码输入错误，需要重新输入

![图2](https://raw.githubusercontent.com/nettee/PortCityDefender/dev/document/user%20manual/images/login2.png)

成功登录后，进入情报动态页面

![图3](https://raw.githubusercontent.com/nettee/PortCityDefender/dev/document/user%20manual/images/login3.png)

### 4.2.2 情报查看

#### 4.2.2.1功能描述

用户可以上下滑动查看情报列表，点击某一项可以查看情报详情，详情页面可以对情报进行回复，如果是自己发送的情报可以在详情页面进行删除。

#### 4.2.2.2操作说明

 情报列表

![图1](https://raw.githubusercontent.com/nettee/PortCityDefender/dev/document/user%20manual/images/info1.png)

 点击某一项情报查看情报详情

![图2](https://raw.githubusercontent.com/nettee/PortCityDefender/dev/document/user%20manual/images/info2.png)

 点击回复进入情报回复页面

![图3](https://raw.githubusercontent.com/nettee/PortCityDefender/dev/document/user%20manual/images/info3.png)

 回复成功

![图4](https://raw.githubusercontent.com/nettee/PortCityDefender/dev/document/user%20manual/images/info4.png)

 如果是自己的情报，有删除按钮，点击后

![图5](https://raw.githubusercontent.com/nettee/PortCityDefender/dev/document/user%20manual/images/info5.png)

### 4.2.3 发布情报

#### 4.2.3.1 功能描述

用户可以发布情报信息，情报信息可以插入文字和图片，可以选择正常上报或紧急上报。

#### 4.2.3.2操作说明

在情报动态页面，点击右上角的“+”号可以新建情报

![图1](https://raw.githubusercontent.com/nettee/PortCityDefender/dev/document/user%20manual/images/sendinfo1.png)

点击“插入图片”上传图片，可以选择拍照上传或从相册中选择。

![图2](https://raw.githubusercontent.com/nettee/PortCityDefender/dev/document/user%20manual/images/sendinfo2.png)

输入情报内容，点击右上角“发布”按钮发布情报

![图4](https://raw.githubusercontent.com/nettee/PortCityDefender/dev/document/user%20manual/images/sendinfo4.png)

已发布的情报会出现在情报列表中

![图5](https://raw.githubusercontent.com/nettee/PortCityDefender/dev/document/user%20manual/images/sendinfo5.png)

### 4.2.4 指挥控制

#### 4.2.4.1 功能描述

用户可以选择任意数量的直接下属（下一级用户）进行命令发送。用户可以查看自己收到的命令和已发送的命令。

#### 4.2.4.2 操作说明

左侧菜单选择指挥控制，进入指挥控制页面，看到收到的命令和发送的命令列表，如果没有命令则显示暂无命令

![图1](https://raw.githubusercontent.com/nettee/PortCityDefender/dev/document/user%20manual/images/command1.png)

点击某一项，可查看命令详情

![图2](https://raw.githubusercontent.com/nettee/PortCityDefender/dev/document/user%20manual/images/command2.png)

### 4.2.5命令发送

#### 4.2.5.1功能描述

用户可以点击新建命令并发送，命令的接收者为用户直接下属，可以选择多个

#### 4.2.5.2操作说明

点击加号后进入新建命令页面

![图1](https://raw.githubusercontent.com/nettee/PortCityDefender/dev/document/user%20manual/images/newcommand1.png)

点击新建命令页面右上角的联系人图标，进入选择联系人页面

![图2](https://raw.githubusercontent.com/nettee/PortCityDefender/dev/document/user%20manual/images/newcommand2.png)

通过搜索选择联系人

![图3](https://raw.githubusercontent.com/nettee/PortCityDefender/dev/document/user%20manual/images/newcommand3.png)

再直接选择联系人

![图4](https://raw.githubusercontent.com/nettee/PortCityDefender/dev/document/user%20manual/images/newcommand4.png)

点击右上角的确认回到新建命令页面，发现上方联系人出现刚刚选择的人，命令内容为空按发送，弹出提示

![图5](https://raw.githubusercontent.com/nettee/PortCityDefender/dev/document/user%20manual/images/newcommand5.png)

输入内容如“你们好好学习呀”，再次点击右上角的发送回到指挥控制页面，发现已发送命令中有刚刚发送的命令

![图6](https://raw.githubusercontent.com/nettee/PortCityDefender/dev/document/user%20manual/images/newcommand6.png)

### 4.2.6文档查看

#### 4.2.6.1功能描述

可以通过点击查看三大类十二小类下的所有文档

#### 4.2.6.2操作说明

点击左侧菜单的文档查看进入文档列表页面

![图1](https://raw.githubusercontent.com/nettee/PortCityDefender/dev/document/user%20manual/images/document1.png)

点击任意一项如军事训练进入下一级目录

![图2](https://raw.githubusercontent.com/nettee/PortCityDefender/dev/document/user%20manual/images/document2.png)

点击任意一项如通知计划进入下一级目录

![图3](https://raw.githubusercontent.com/nettee/PortCityDefender/dev/document/user%20manual/images/document3.png)

点击任意一条文档，查看文档详情

![图4](https://raw.githubusercontent.com/nettee/PortCityDefender/dev/document/user%20manual/images/document4.png)

### 4.2.7通讯录

#### 4.2.7.1功能描述

可以查看四个区域下联系人的信息，区域可以折叠，也可以通过搜索id和姓名找到联系人。

#### 4.2.7.2操作说明

点击通讯录进入通讯录页面，此时搜索框处为空故显示所有区域

![图1](https://raw.githubusercontent.com/nettee/PortCityDefender/dev/document/user%20manual/images/contact1.png)

点击区域名，可以改变该区域下联系人列表的折叠状态

![图2](https://raw.githubusercontent.com/nettee/PortCityDefender/dev/document/user%20manual/images/contact2.png)

输入搜索内容，下方出现搜索结果

![图3](https://raw.githubusercontent.com/nettee/PortCityDefender/dev/document/user%20manual/images/contact3.png)

在列表中或搜索结果中点击某一项，显示联系人详情

![图4](https://raw.githubusercontent.com/nettee/PortCityDefender/dev/document/user%20manual/images/contact4.png)

### 4.2.8个人信息与设置

#### 4.2.8.1功能描述

可以查看个人信息，退出登录修改密码

#### 4.2.8.2操作说明

打开侧拉菜单，点击头像和个人描述处，进入个人信息页面

![图1](https://raw.githubusercontent.com/nettee/PortCityDefender/dev/document/user%20manual/images/user1.png)

在个人信息页面点击修改密码出现修改密码页面，输入旧密码和新密码

![图2](https://raw.githubusercontent.com/nettee/PortCityDefender/dev/document/user%20manual/images/user2.png)

修改密码填写完成后按确认提示用户需要退出重新登录

![图3](https://raw.githubusercontent.com/nettee/PortCityDefender/dev/document/user%20manual/images/user3.png)

按确认会回到登录页面

![图4](https://raw.githubusercontent.com/nettee/PortCityDefender/dev/document/user%20manual/images/user4.png)

在个人信息页面按退出登录弹出对话框

![图5](https://raw.githubusercontent.com/nettee/PortCityDefender/dev/document/user%20manual/images/user5.png)

按确认会回到登录页面

![图6](https://raw.githubusercontent.com/nettee/PortCityDefender/dev/document/user%20manual/images/user6.png)

## 4.4 出错处理和恢复

| 出错情况 | 系统输出信息 | 处理方法 |
|---|---|---|
| 登录时，用户名或密码错误 | 弹框提示“用户名或密码错误” | 重新输入正确的用户名和密码登录 |
| 修改密码时，原密码错误 | 弹框提示“原密码错误” | 重新输入正确的原密码、新密码和确认密码 |
| 修改密码时，新密码与确认密码不一致 | 弹框提示“确认密码错误” | 重新输入正确的原密码、新密码和确认密码 |
| 发送情报时，情报内容为空 | 弹框提示“情报内容不能为空” | 输入情报内容 |
| 插入图片时，手机不支持拍照功能 | 弹框提示“您的环境不支持拍照上传” | 无 |
| 插入图片时，手机不支持相册读取功能 | 弹框提示“您的环境不支持相册上传” | 无 |
| 查看情报详情时，该情报已被删除 | 弹框提示“该情报已被删除” | 无 |
| 回复情报时，该情报已删除 | 弹框提示“该情报已被删除” | 无 |
| 发送命令时，没有选择联系人 | 弹框提示“请选择联系人” | 无 |
| 发送命令时，命令内容为空 | 弹框提示“命令内容不能为空” | 无 |

